<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Magic</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }
        
        #container {
            width: 300px;
            height: 300px;
            margin: 100px auto;
            /* border: 1px solid #ccc; */
        }
        
        #box {
            width: 300px;
            height: 300px;
            margin: 0 auto;
            position: absolute;
            transform-style: preserve-3d;
            transform: rotate3d(30, 20, 0, 45deg) scale3d(0.5, 0.5, 0.5);
            perspective: 10000px;
            animation: testanimations 5s linear infinite;
        }
        
        .share {
            width: 300px;
            height: 300px;
            margin: 0 auto;
            position: fixed;
        }
        
        .box_top {
            background-color: red;
            transform: translateZ(150px) rotateX(0deg);
        }
        
        .box_right {
            background-color: green;
            transform: translateX(-150px) rotateY(90deg);
        }
        
        .box_bottom {
            background-color: blue;
            transform: translateZ(-150px) rotateX(180deg);
        }
        
        .box_left {
            background-color: yellow;
            transform: translateX(150px) rotateY(-90deg);
        }
        
        .box_front {
            background-color: orange;
            transform: translateY(150px) rotateX(-90deg);
        }
        
        .box_back {
            background-color: purple;
            transform: translateY(-150px) rotateX(90deg);
        }
        
        @keyframes testanimations {
            0% {
                transform: rotate3d(1, 1, 0, 45deg) scale3d(0.5, 0.5, 0.5);
            }
            30% {
                transform: rotate3d(1, 1, 1, 100deg) scale3d(0.5, 0.5, 0.5);
            }
            70% {
                transform: rotate3d(1, 1, 1, 180deg) scale3d(0.5, 0.5, 0.5);
            }
            100% {
                transform: rotate3d(1, 1, 0, 45deg) scale3d(0.5, 0.5, 0.5);
            }
        }
        
        @keyframes ani_div {
            0% {
                transform: translateZ(0px);
            }
            50% {
                transform: translateZ(100px);
            }
            100% {
                transform: translateZ(0px);
            }
        }
    </style>
</head>

<body>
    <div id="container">
        <div id="box">
            <div class="share box_top"></div>
            <div class="share box_right"></div>
            <div class="share box_bottom"></div>
            <div class="share box_left"></div>
            <div class="share box_front"></div>
            <div class="share box_back"></div>
        </div>
    </div>

    <script>
        var arr = document.getElementsByClassName("share");
        console.log(arr.length);
        for (var k = 0; k < arr.length; ++k) {
            arr[k].style.cssText = "background-image: url('images/a" + k + ".jpg'); position:absolute;transform-style: preserve-3d;";
            // arr[k].style.cssText += "animation: ani_div 3s linear infite;";
            console.log(arr[k].style.cssText);

            //增加3*3小方格
            for (var r = 0; r < 3; ++r)
                for (var c = 0; c < 3; ++c) {
                    var div = document.createElement("div");
                    var x = c * 100;
                    var y = r * 100;
                    div.style.cssText = "width:100px;height:100px;position:fixed; left:" + x + "px; top:" + y + "px; border: 2px solid #fff; box-sizing: border-box; animation: ani_div 3s linear infite;";
                    console.log(div.style.cssText);
                    arr[k].appendChild(div);
                }
        }
    </script>
</body>

</html>